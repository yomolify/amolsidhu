@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --radius: 16px;
  --bg-mesh: radial-gradient(
      1200px 600px at 10% 10%,
      rgba(124, 58, 237, 0.25),
      transparent 50%
    ),
    radial-gradient(
      800px 400px at 90% 20%,
      rgba(16, 185, 129, 0.15),
      transparent 50%
    ),
    radial-gradient(
      900px 500px at 50% 110%,
      rgba(14, 165, 233, 0.2),
      transparent 60%
    );
}
html,
body {
  height: 100%;
}
html {
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-source-sans), ui-sans-serif, system-ui, -apple-system,
    "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans",
    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
}
body {
  @apply bg-slate-950 text-slate-100; /* or whatever dark base */
  background: radial-gradient(circle at top left, #1e1b4b, transparent 70%),
    radial-gradient(circle at bottom right, #0f172a, transparent 70%), #000; /* fallback */
  background-attachment: fixed; /* prevents seams */
}
body {
  @apply bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100 antialiased;
  background-image: var(--bg-mesh, none);
}
.prose a {
  @apply text-brand-600 hover:text-brand-700 underline decoration-2 underline-offset-4;
}
.bg-noise:before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" opacity="0.05"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="4" stitchTiles="stitch" /></filter><rect width="100%" height="100%" filter="url(%23n)"/></svg>');
  background-size: cover;
  mix-blend-mode: soft-light;
}
.glass {
  @apply bg-white/60 dark:bg-slate-900/50 backdrop-blur-xl border border-white/40 dark:border-slate-800/40 shadow-xl rounded-2xl;
}
.btn-shimmer {
  background: linear-gradient(
    90deg,
    rgba(124, 58, 237, 0.9),
    rgba(14, 165, 233, 0.9),
    rgba(16, 185, 129, 0.9),
    rgba(124, 58, 237, 0.9)
  );
  background-size: 200% 100%;
  animation: shimmer 8s linear infinite;
}
.gradient-text {
  background: linear-gradient(120deg, #8b5cf6, #06b6d4, #10b981, #8b5cf6);
  background-size: 200% 200%;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  animation: shimmer 12s linear infinite;
}
.tilt {
  transform-style: preserve-3d;
  perspective: 1000px;
}
.tilt:hover .tilt-child {
  transform: translateZ(24px);
}
/* During PNG export, hide visual blends that can darken the rasterization */
body[data-exporting] .bg-noise:before {
  display: none !important;
}
body[data-exporting] [data-export-exclude] {
  display: none !important;
}
@layer utilities {
  /* gentle diagonal drift for stars */
  @keyframes card-drift {
    from {
      transform: translate3d(0, 0, 0);
    }
    to {
      transform: translate3d(-60px, -40px, 0);
    }
  }
  .animate-card-drift {
    animation: card-drift 28s linear infinite;
    will-change: transform;
  }
  .animate-card-drift-fast {
    animation-duration: 12s;
  }

  /* one-pass shimmer sweep */
  @keyframes shimmer {
    0% {
      transform: translate3d(-120%, 0, 0);
    }
    100% {
      transform: translate3d(120%, 0, 0);
    }
  }
  .animate-shimmer {
    animation: shimmer 1.1s ease-out 1;
    will-change: transform;
  }
}

@media (prefers-reduced-motion: reduce) {
  .animate-card-drift,
  .animate-card-drift-fast,
  .animate-shimmer {
    animation: none !important;
  }
}

@layer utilities {
  @keyframes spin-slow {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
  .animate-spin-slow {
    animation: spin-slow 12s linear infinite;
  }
}
